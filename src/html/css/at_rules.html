<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>At rules</title>
    <style>
        @charset "UTF-8";

        @counter-style my-list-symbol {
            system: numeric;
            symbols: "\25A0" "\25A1";
            suffix: " (suffix) ";
            negative: "(negative" ")";
            prefix: "(prefix) ";
            range: 2 4, 7 9;
            pad: 4 "X";
            fallback: upper-alpha;
        }

        @counter-style my-list-symbolic {
            system: "symbolic";
            symbols: "\25A0" "\25A1";
            range: infinite;
            fallback: upper-alpha;
        }

        @counter-style my-list-cyclic {
            system: cyclic;
            symbols: "\25A0" "\25A1";
            range: infinite;
            fallback: upper-alpha;
        }

        @counter-style my-list-alphabetic {
            system: alphabetic;
            symbols: "\25A0" "\25A1";
            range: infinite;
            fallback: upper-alpha;
        }

        @counter-style my-list-numeric {
            system: numeric;
            symbols: "\25A0" "\25A1";
            range: infinite;
            fallback: upper-alpha;
        }

        @counter-style my-list-additive {
            system: additive;
            additive-symbols: 5 O, 1 X;
            range: 1 3999;
            fallback: upper-alpha;
        }

        @counter-style my-list-fixed {
            system: fixed;
            symbols: "ä¸€" "äºŒ" "ä¸‰";
            range: 2 3;
            fallback: upper-alpha;
        }

        #counter-style-ul {
            padding-left: 14ch;
            list-style: my-list-symbol;
        }

        #list-test {
            display: flex;
            flex-flow: row wrap;
            gap: 10px;
        }

        #list-test h2 {
            flex: 100%;
        }

        #list-test :not(h2) {
            flex: 300px;
        }

        #layer div {
            color: red;
        }

        @layer base, special;

        @layer base {
            div {
                color: green !important;
                border: 5px solid green;
                font-size: 1.3em;
                padding: 0.5em;
            }
        }

        @layer special {
            div {
                color: rebeccapurple !important;
            }
        }
    </style>
    <script>
        window.addEventListener("load", () => {
            myList();
        });

        const myList = () => {
            customElements.define("my-list",
                class extends HTMLElement {
                    constructor() {
                        super();
                        const shadowRoot = this.attachShadow({ mode: "open" });
                        const listType = this.hasAttribute("list-type") ? this.getAttribute("list-type") : "";
                        const listClass = this.hasAttribute("class") ? this.getAttribute("class") : "";
                        const listStart = this.hasAttribute("start") ? this.getAttribute("start") : "";
                        const list = listType == "ol" ? document.createElement("ol") : document.createElement("ul");
                        const wrapper = document.createElement("span");
                        wrapper.setAttribute("class", "wrapper");
                        list.setAttribute("class", listClass);
                        list.setAttribute("start", listStart);

                        const listTitle = document.createElement("h3");
                        listTitle.textContent = listClass;
                        wrapper.appendChild(listTitle);

                        for (let i = 0; i < 10; i++) {
                            const li = document.createElement("li");
                            li.textContent = "li tag";
                            list.appendChild(li);
                        }

                        const caption = document.createElement("span");
                        caption.setAttribute("class", "cap");
                        caption.textContent = this.textContent;
                        list.appendChild(caption);

                        const style = document.createElement("style");
                        style.textContent = `
                        h3 {
                            background-color: lightskyblue;
                            margin: 0;
                            padding: 5px;
                        }
                        
                        ul,
                        ol {
                            position: relative;
                            margin: 0;
                            padding: 15px;
                            border: 2px dashed lightskyblue;
                            border-top: none;
                            list-style: my-list-${listClass};
                            list-style-position: inside;
                        }

                        .cap {
                            display: none;
                            position: absolute;
                            top: 5%;
                            left: 30%;
                            right: 5%;
                            padding: 10px;
                            background-color: white;
                            border: 3px solid black;
                            border-radius: 15px;
                        }
                        
                        ul:hover .cap,
                        ol:hover .cap {
                            display: block;
                        }
                        `;

                        shadowRoot.appendChild(wrapper);
                        wrapper.appendChild(list)
                        shadowRoot.appendChild(style);
                    }
                });
        }
    </script>
</head>

<body>
    <header>
        <h1>
            At rules
        </h1>
    </header>
    <main>
        <section>
            <h2>
                @charset
            </h2>
            <ul>
                <li>
                    cssã‚·ãƒ¼ãƒˆã§åˆ©ç”¨ã™ã‚‹æ–‡å­—ã®ã‚¤ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’æ±ºã‚ã‚‹
                </li>
                <li>
                    å¿…ãšcssã‚·ãƒ¼ãƒˆã®æœ€åˆã«ä½ç½®ã—ã¦ã„ã¦ï¼ charsetã‚ˆã‚Šå‰ã«æ–‡å­—ãŒã‚ã£ã¦ã¯ã„ã‘ãªã„<br>
                    æ›¸ãæ–¹ã¯ @charset "UTF-8";<br>
                    @charsetã®å‰ã«ã‚¹ãƒšãƒ¼ã‚¹ã‚„ä»–ã®æ–‡å­—ãŒãªã„ï¼ˆæœ€åˆã«æŠ€è¡“ï¼‰<br>
                    @charsetã¨å€¤ã®é–“ã«ã‚¹ãƒšãƒ¼ã‚¹ã¯ï¼‘å€‹<br>
                    æ­£ã—ã„ã‚¯ã‚©ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ä½¿ç”¨ï¼ˆ' or "ï¼‰
                </li>
                <li>
                    @media, @supportãªã©ä»–ã®at-rulesã®ä¸­ã§ä½¿ãˆãªã„ï¼ˆ@charsetã®å‰ã«æ–‡å­—ãŒã‚ã£ã¦ã¯ã„ã‘ãªã„ã“ã¨ã«ã‚‚è©²å½“ã™ã‚‹ãŒã€ãŸã ã§ããªã„ï¼‰
                </li>
                <li>
                    ASCIIã§ã¯ãªã„æ–‡å­—ã‚’ä½¿ã†ã¨ãæœ‰åŠ¹ï¼ˆğŸ˜€ã€ğŸ‘ºã€ğŸ® ï¼‰
                </li>
            </ul>
        </section>
        <section id="counter-style">
            <h2>@counter-style</h2>
            <ol id="counter-style-ul" start="-1">
                <li>
                    liã‚¿ã‚°
                </li>
                <li>
                    liã‚¿ã‚°
                </li>
                <li>
                    liã‚¿ã‚°
                </li>
                <li>
                    liã‚¿ã‚°
                </li>
                <li>
                    liã‚¿ã‚°
                </li>
                <li>
                    liã‚¿ã‚°
                </li>
                <li>
                    liã‚¿ã‚°
                </li>
                <li>
                    liã‚¿ã‚°
                </li>
                <li>
                    liã‚¿ã‚°
                </li>
                <li>
                    liã‚¿ã‚°
                </li>
            </ol>
            <ul>
                <li>
                    system: ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼é€²è¡Œã‚¿ã‚¤ãƒ—
                </li>
                <li>
                    symbols: url(image), "0", A B Cãªã©è¨˜å·ã‚’é¸æŠ, "\25A0""\25A1"ã®ã‚ˆã†ã«2ã¤ã‚’äº¤å·®ã—ã¦è¡¨ç¤ºã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ï¼ˆrange: 2 4, 7 9ã®ã‚ˆã†ã«æŠ€è¡“å¿…è¦ï¼‰
                </li>
                <li>
                    negative: olã§æœ‰åŠ¹ï¼ˆstart="ãƒã‚¤ãƒŠã‚¹å€¤"ï¼‰å€¤ãŒï¼ã‚ˆã‚Šå°ã•ã„å€¤ã®æ™‚è¿½åŠ æ–‡å­—ã‚’è¨­å®šã§ãã‚‹(rangeã¨ä¸€ç·’ã«ä½¿ã£ãŸã‚‰å‹•ã‹ãªã„ã“ã¨ãŒã‚ã‚‹)
                </li>
                <li>
                    prefix: list-styleã®å‰ã«æ–‡å­—ã‚’åŠ ãˆã‚‹
                </li>
                <li>
                    suffix: list-styleã®å¾Œã‚ã«æ–‡å­—ã‚’åŠ ãˆã‚‹
                </li>
                <li>
                    range: infinite 2(2ã‹ã‚‰ç„¡é™å¤§ã®ãƒã‚¤ãƒŠã‚¹å€¤ã¾ã§ç¹°ã‚Šè¿”ã™), 5 infinite(5ã‹ã‚‰ç„¡é™å¤§ã®é™½æ•°å€¤ã¾ã§ç¹°ã‚Šè¿”ã™), 2 4, 7 9ï¼ˆï¼’ã‹ã‚‰ï¼”ã¾ã§ã€€ï¼—ã‹ã‚‰ï¼™ã¾ã§ï¼‰
                </li>
                <li>
                    pad: symbolã®æ–‡å­—ã‚’å«ã‚è¡¨ç¤ºæ¡æ•°ã‚’æ±ºã‚ã‚‹ï¼ˆpad: 2 "X" 2æ¡ã«ãªã‚‹ã‚ˆã†ã«symbolã®å‰ã«Xã‚’è©°ã‚ã‚‹ã€€pad: 4 "0" ï¼”æ¡ã«ãªã‚‹ã¾ã§0ã‚’è©°ã‚ã‚‹ï¼‰
                </li>
                <li>
                    fallback: ä½¿ç”¨ä¸­ã®ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚¹ã‚¿ã‚¤ãƒ«ãŒç‰¹å®šã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã«å¯¾ã—ã¦è¡¨ç¾ã§ããªã„æ™‚ä»£ã‚ã‚Šã«è¡¨ç¤ºï¼ˆsymbolã®å¾Œã‚ã€ãƒ™ãƒ¼ã‚¹ã«ã‚ã‚‹ã‚‚ã®ãƒ»ãªã‚“ã‚‰ã‹ã®åŸå› ã§æ‰‹ã“ãšã£ãŸã‚‰å‡ºã‚‹ï¼‰ã€€åŸºæœ¬decimal
                </li>
            </ul>
        </section>
        <section id="list-test">
            <h2>ã¡ã‚‡ã£ã¨è©¦ã™ã‚»ã‚¯ã‚·ãƒ§ãƒ³</h2>
            <my-list class="symbolic">symbolsã®å€¤ãŒæœ€å¾Œã¾ã§è¡¨ç¤ºã•ã‚ŒãŸã‚‰1ç•ªç›®ã®symbolã«æˆ»ã£ã¦+1ã—ãŸæ•°åˆ†è¡¨ç¤ºã™ã‚‹</my-list>
            <my-list class="cyclic">symbolsã®å€¤ã®æœ€å¾Œã¾ã§è¡¨ç¤ºã—ãŸã‚‰ã¾ãŸsymbolsã®1ç•ªç›®ã«æˆ»ã‚‹ï¼ˆãŸã ç¹°ã‚Šè¿”ã™ï¼‰</my-list>
            <my-list class="alphabetic">äºŒé‡foræ–‡è¦‹ãŸã„ãªæ„Ÿã˜</my-list>
            <my-list class="numeric">å§‹ã¾ã‚Šã¯symbolã®2ç•ªç›®ã‹ã‚‰å§‹ã¾ã‚‹ symbolãŒçµ‚ã‚ã£ãŸã‚‰ã¾ãŸ1ç•ªç›®ã‚’å¾Œã‚ã«è¿½åŠ ã—ã¦ã„ã</my-list>
            <my-list list-type="ol" class="additive" start="12">additive-symbolsã«æ•°å€¤ æ–‡å­—ã®çµ„ã¿åˆã‚ã›ã§æŒ‡å®šã—ã¦ãŠã5 O, 1
                Xã®å ´åˆ1ã‹ã‚‰ï¼”ã¾ã§ã¯XXXXã«ãªã‚‹ã¾ã§è¿½åŠ ã—ã¦ã„ã¦ï¼•ã‹ã‚‰ã‚ã¨ã¯OXXXX...ã®ã‚ˆã†ã«è¿½åŠ ã—ã¦ã„ã(16ã®å ´åˆ (5*3)+1ã ã‹ã‚‰ã€€OOOXãŒè¡¨ç¤ºã•ã‚Œã‚‹)</my-list>
            <my-list class="fixed">symbolçµ‚ã‚ã£ãŸã‚‰fallbackã«ãªã‚‹(rangeã§å¾ªç’°å ´æ‰€æŒ‡å®šã—ã¦ã‚‚symbolãŒå…¥ã‚‹å ´æ‰€ã¯é †ç•ªã«å›ºå®šã•ã‚Œã¦ã„ã‚‹)</my-list>
        </section>
        <section id="layer">
            <h2>@layer</h2>
            <div class="item">
                I am displayed in <code>color: rebeccapurple</code> because the
                <code>special</code> layer comes after the <code>base</code> layer. My green
                border, font-size, and padding come from the <code>base</code> layer.
            </div>
            <ul>
                <li>
                    layerã¯ã‚ˆã‚Šå¾Œã«å®£è¨€ã—ãŸã‚‚ã®ãŒå¼·ã„
                </li>
                <li>
                    layerã®è©³ç´°åº¦ã¯ãã®layerã®ä¸­ã§ã ã‘æœ‰åŠ¹
                </li>
                <li>
                    layerã«å…¥ã£ã¦ã„ãªã„ã‚¹ã‚¿ã‚¤ãƒ«ã¯layerãŒå‘¼ã³å‡ºã•ã‚Œãã®å¾Œã§å‘¼ã³å‡ºã•ã‚Œã‚‹ï¼ˆä¸Šæ›¸ãã•ã‚Œã‚‹ã€layerã§!importantã§å›é¿ã§ãã‚‹ï¼‰
                </li>
                <li>
                    layeråŒå£«ã§!importantæˆ¦ã„ã¯å…ˆã«å®£è¨€ã—ãŸlayerãŒå‹ã¤
                </li>
            </ul>
        </section>
    </main>
</body>

</html>